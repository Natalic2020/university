DROP ALL OBJECTS
CREATE SCHEMA uni;
create table uni.groups (id varchar(50) PRIMARY KEY, name_group varchar(50)  NOT NULL, specialty varchar(50));
create table uni.persons (id varchar(50) PRIMARY KEY, first_name varchar(50)  NOT NULL, last_name varchar(50));
create table uni.contact_infos (id varchar(50) PRIMARY KEY,  id_person varchar(50) REFERENCES uni.persons (id) ON DELETE CASCADE, index int, country varchar(50), city varchar(50), street varchar(50), house varchar(50), apartment int, phone1 varchar(50), phone2 varchar(50), email varchar(50))
create table uni.students (id varchar(50) PRIMARY KEY, id_person varchar(50) REFERENCES uni.persons (id) ON DELETE CASCADE, study_status varchar(50), start_of_study date, citizenship varchar(50), grants numeric, id_group varchar(50) REFERENCES uni.groups (id))
create table uni.teachers (id varchar(50) PRIMARY KEY, id_person varchar(50) REFERENCES uni.persons (id) ON DELETE CASCADE, degree varchar(50),department varchar(50), permanent boolean,  salary numeric)
create table uni.subjects (id varchar(50) PRIMARY KEY, name_subject varchar(50))
create table uni.rooms (id varchar(50) PRIMARY KEY, name_room varchar(50))
create table uni.time_slots (id varchar(50) PRIMARY KEY, serial_number int, start_time time, finish_time time)
create table uni.schedule_items (id varchar(50) PRIMARY KEY, id_group varchar(50) REFERENCES uni.groups (id), id_subject varchar(50) REFERENCES uni.subjects (id), id_room varchar(50) REFERENCES uni.rooms (id) , id_time_slot varchar(50) REFERENCES uni.time_slots (id) , id_teacher varchar(50) REFERENCES uni.teachers (id) ON DELETE CASCADE, day_of_week varchar(50))
create table uni.periods (id varchar(50) PRIMARY KEY, start_date date, finish_date date)
create table uni.schedule (id_period varchar(50) REFERENCES uni.periods (id) ON DELETE CASCADE, id_schedule_items varchar(50) REFERENCES uni.schedule_items (id) ON DELETE CASCADE)
INSERT INTO uni.rooms (id, name_room ) values ('1', 'room 1')
INSERT INTO uni.rooms (id, name_room ) values ('2', 'room 2')
INSERT INTO uni.rooms (id, name_room ) values ('3', 'room 3')
INSERT INTO uni.subjects (id, name_subject ) values ('1', 'Maths')
INSERT INTO uni.subjects (id, name_subject ) values ('2', 'Art')
INSERT INTO uni.subjects (id, name_subject ) values ('3', 'Sport')
INSERT INTO uni.groups (id, name_group ) values ('1', 'gr-1')
INSERT INTO uni.groups (id, name_group ) values ('2', 'gr-2')
INSERT INTO uni.groups (id, name_group ) values ('3', 'gr-3')
INSERT INTO uni.time_slots (id, serial_number, start_time, finish_time ) values ('1', 1, '08:00:00', '09:30:00')
INSERT INTO uni.time_slots (id, serial_number, start_time, finish_time ) values ('2', 2, '09:50:00', '11:20:00')
INSERT INTO uni.time_slots (id, serial_number, start_time, finish_time ) values ('3', 3, '11:30:00', '13:00:00')
INSERT INTO uni.periods (id, start_date, finish_date ) values ('1', '2019-01-01', '2019-12-31')
INSERT INTO uni.periods (id, start_date, finish_date ) values ('2', '2020-01-01', '2020-12-31')
INSERT INTO uni.periods (id, start_date, finish_date ) values ('3', '2021-01-01', '2021-12-31')